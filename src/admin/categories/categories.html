<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="" href="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SuperFood | Categorías</title>
  </head>
  <body class="min-h-screen bg-primary/5 text-dark">
    <header class="fixed top-0 left-0 right-0 z-50 border-b border-gray/40 bg-white/90 backdrop-blur">
      <div class="mx-auto flex w-full max-w-6xl items-center justify-between px-6 py-4">
        <div class="flex items-center gap-4">
          <span class="flex h-12 w-12 items-center justify-center rounded-full bg-primary text-2xl font-extrabold text-white shadow-lg">SF</span>
          <div class="flex flex-col leading-tight">
            <span class="text-xl font-bold text-primary">SuperFood</span>
            <span id="navbar-role" class="text-sm font-medium uppercase tracking-widest text-dark/70">Admin</span>
          </div>
        </div>
        <div class="flex items-center gap-3">
          <div id="navbar-user-name-container" class="text-sm font-medium text-dark/80"></div>
          <button
            id="logout-btn"
            type="button"
            class="rounded-xl border border-danger px-5 py-2 text-sm font-semibold text-danger transition hover:bg-danger hover:text-white"
          >
            Cerrar sesión
          </button>
        </div>
      </div>
    </header>

    <main class="flex min-h-screen justify-center pt-32">
      <div class="flex w-full max-w-6xl gap-8 px-6 pb-12">
        <aside
          class="sticky top-28 flex h-fit w-64 flex-col gap-4 rounded-2xl border border-gray/30 bg-white/90 p-6 shadow-sm"
        >
          <div class="text-xs font-semibold uppercase tracking-widest text-dark/60">Navegación</div>
          <nav class="flex flex-col gap-2 text-sm font-medium text-dark/70">
            <a
              href="../adminHome/adminHome.html"
              class="rounded-xl px-4 py-2 transition hover:bg-primary/10 hover:text-primary"
            >
              Dashboard
            </a>
            <a
              href="categories.html"
              class="flex items-center justify-between rounded-xl bg-primary/10 px-4 py-2 text-primary"
            >
              <span>Categorías</span>
            </a>
            <a
              href="../products/products.html"
              class="rounded-xl px-4 py-2 transition hover:bg-primary/10 hover:text-primary"
            >
              Productos
            </a>
            <a
              href="../orders/orders.html"
              class="rounded-xl px-4 py-2 transition hover:bg-primary/10 hover:text-primary"
            >
              Pedidos
            </a>
          </nav>
          <div class="my-3 border-t border-gray/20"></div>
          <a
            href="../../../index.html"
            class="rounded-xl px-4 py-2 text-sm font-semibold text-dark transition hover:bg-primary/10 hover:text-primary"
          >
            Ver tienda
          </a>
        </aside>
        <section class="flex-1 rounded-2xl border border-gray/20 bg-white/70 p-8 shadow-sm">
          <div class="text-2xl font-bold text-dark">Gestión de categorías</div>
          <div class="mt-4 flex flex-col gap-6">
            <div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between">
              <p class="text-sm text-dark/70">Crea y organiza las categorías disponibles en tu catálogo.</p>
              <button
                id="toggle-category-form"
                type="button"
                class="inline-flex items-center justify-center rounded-xl bg-primary px-5 py-2.5 text-sm font-semibold text-white transition hover:bg-primary/90"
              >
                Nueva categoría
              </button>
            </div>

            <form
              id="category-form"
              class="grid gap-4 rounded-2xl border border-primary/20 bg-primary/5 p-6 shadow-sm"
              hidden
            >
              <div class="flex flex-col gap-1">
                <h3 id="category-form-title" class="text-lg font-semibold text-dark">Nueva categoría</h3>
                <p class="text-sm text-dark/60">Completa los datos y guardá la categoría en tu catálogo.</p>
              </div>

              <div class="grid gap-2">
                <label for="category-name" class="text-sm font-semibold text-dark/80">Nombre *</label>
                <input
                  id="category-name"
                  name="categoryName"
                  type="text"
                  required
                  placeholder="Ej. Bebidas naturales"
                  class="rounded-xl border border-gray/30 bg-white px-4 py-2 text-sm text-dark shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"
                />
              </div>

              <div class="grid gap-2">
                <label for="category-description" class="text-sm font-semibold text-dark/80">Descripción *</label>
                <textarea
                  id="category-description"
                  name="categoryDescription"
                  rows="3"
                  required
                  placeholder="Describe brevemente qué incluye esta categoría."
                  class="rounded-xl border border-gray/30 bg-white px-4 py-2 text-sm text-dark shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"
                ></textarea>
              </div>

              <div class="grid gap-2">
                <label for="category-image" class="text-sm font-semibold text-dark/80">URL de imagen (opcional)</label>
                <input
                  id="category-image"
                  name="categoryImage"
                  type="url"
                  placeholder="https://ejemplo.com/imagen.jpg"
                  class="rounded-xl border border-gray/30 bg-white px-4 py-2 text-sm text-dark shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"
                />
                <span class="text-xs text-dark/50">La imagen ayudará a identificar la categoría dentro del panel.</span>
              </div>

              <p id="category-form-error" class="text-sm font-semibold text-danger hidden"></p>

              <div class="flex flex-col gap-3 sm:flex-row sm:items-center">
                <button
                  type="submit"
                  class="inline-flex items-center justify-center rounded-xl bg-primary px-5 py-2.5 text-sm font-semibold text-white transition hover:bg-primary/90"
                >
                  Guardar
                </button>
                <button
                  id="cancel-category-form"
                  type="button"
                  class="inline-flex items-center justify-center rounded-xl border border-primary px-5 py-2.5 text-sm font-semibold text-primary transition hover:bg-primary/10"
                >
                  Cancelar
                </button>
              </div>
            </form>

            <div
              id="category-table-wrapper"
              class="overflow-x-auto rounded-2xl border border-gray/20 bg-white shadow-sm"
              hidden
            >
              <table class="min-w-full divide-y divide-gray/20 text-sm">
                <thead class="bg-primary/5 text-xs font-semibold uppercase tracking-wide text-dark/60">
                  <tr>
                    <th scope="col" class="px-4 py-3 text-left">ID</th>
                    <th scope="col" class="px-4 py-3 text-left">Imagen</th>
                    <th scope="col" class="px-4 py-3 text-left">Nombre</th>
                    <th scope="col" class="px-4 py-3 text-left">Descripción</th>
                    <th scope="col" class="px-4 py-3 text-left">Acciones</th>
                  </tr>
                </thead>
                <tbody id="category-table-body" class="divide-y divide-gray/10"></tbody>
              </table>
            </div>
            <p id="category-empty-state" class="text-sm text-dark/60">Aún no creaste categorías.</p>
          </div>
        </section>
      </div>
    </main>

    <script type="module" src="/src/main.ts"></script>
    <script type="module" src="/src/admin/categories/categories.ts"></script>
  </body>
</html>
